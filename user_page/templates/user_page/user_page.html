<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Профиль пользователя</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px; 
            margin: 50px auto; 
            padding: 20px;
            {% if user.userinfo %}
                {% if user.userinfo.gender == True %}
                    background: rgba(96, 125, 139, 0.5);
                {% elif user.userinfo.gender == False %}
                    background: rgba(255, 182, 193, 0.5);
                {% else %}
                    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
                {% endif %}
            {% else %}
                background: #f5f5f5;
            {% endif %}
        }
        .user-info { border: 1px solid #ddd; padding: 20px; border-radius: 8px; background: white; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
        h1 { 
            color: #000000;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1); 
        }
        .logout-btn { 
            background: #8B0000; 
            color: white; 
            padding: 10px 20px; 
            border: 2px solid #5C0000; 
            border-radius: 4px; 
            text-decoration: none; 
            display: inline-block;
        }
        .logout-btn:hover { background: #5C0000; }
    </style>
</head>
<body>
    <h1>Профиль пользователя</h1>
    <a href="{% url 'logout' %}" class="logout-btn" style="float: right;">Выйти</a>
    
    <div class="user-info">
        <h2>{{ user.username }}</h2>
        <p><strong>Email:</strong> {{ user.email }}</p>
        
        <div id="user-details">
            {% include 'user_page/user_details.html' %}
        </div>
        
        <button hx-get="{% url 'refresh_user_info' %}" 
                hx-target="#user-details" 
                hx-swap="innerHTML"
                style="margin-top: 10px;">
            Обновить информацию
        </button>
    </div>
    
    {% include 'user_page/all_users.html' %}
</body>
</html>
